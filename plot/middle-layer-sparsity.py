import matplotlib.pyplot as plt
import numpy as np

# 创建数据
# 生成两条14个点的线
x1 = np.linspace(0, 25, 26)  # X轴范围从0到13，共14个点
y1 = np.array([0.397420061,0.865726496,0.406816742,0.999243106,0.997906625,0.953155645,0.996871812,0.999824779,0.999818606,0.999633908,0.999789468,0.99976784,0.99969812,0.99959359,0.99951859,0.999342706,0.999091446,0.998577535,0.998165292,0.99755707,0.997551918,0.99745552,0.996633717,0.990406079,0.895516362,0.615302469])

# 生成两条27个点的线
x2 = np.linspace(0, 31, 32)   # X轴范围从0到26，共27个点
y3 = np.array([0.437694703,0.089435097,0.9999832,0.999973774,0.999826585,0.99988842,0.999867056,0.999829267,0.999779037,0.999732801,0.999693164,0.999690558,0.999641716,0.999512179,0.999400113,0.999114437,0.998718449,0.998747238,0.998492735,0.998158514,0.99815395,0.997945939,0.997805987,0.998023144,0.997723111,0.998082578,0.997678586,0.99725037,0.996569301,0.996060159,0.780090886,0.4494008])      # 随机生成27个Y轴数据点
y4 = np.array([0.324582487,0.839181483,0.481164783,0.999973893,0.999889612,0.999929607,0.999919713,0.999865055,0.999837697,0.999857664,0.999855816,0.999775231,0.999744952,0.999727249,0.999643028,0.999525547,0.999283254,0.99906671,0.998992562,0.998760164,0.99843961,0.99836129,0.998308241,0.998219252,0.998225689,0.997999728,0.997719288,0.997715116,0.997310042,0.996389747,-0.063855357,0.586223841])          # 随机生成另一条线的27个Y轴数据点

# 生成两条32个点的线
x3 = np.linspace(0, 30, 31)   # X轴范围从0到31，共32个点
y5 = np.array([0.435176611,0.830939174,0.999904573,0.999910057,0.999863982,0.999817312,0.999795794,0.999759436,0.999716401,0.999710917,0.999678969,0.999684393,0.999640584,0.999633551,0.999504805,0.999637485,0.999663055,0.999641716,0.999632001,0.999599338,0.999600708,0.999608815,0.999585688,0.999554217,0.999531567,0.999475539,0.999423802,0.999361813,0.997995019,0.614898205,0.150938004])       # 随机生成32个Y轴数据点
y6 = np.array([-0.058101114,0.99997431,0.999952435,0.999942303,0.99990046,0.999834836,0.999907672,0.99979353,0.999887228,0.99986577,0.99984175,0.999896884,0.999786317,0.999709308,0.999571145,0.998973727,0.998458803,0.998307884,0.997122347,0.997290432,0.99809587,0.99832499,0.998099983,0.998736739,0.998680472,0.998520076,0.997200489,0.996272802,0.991735101,0.981259882,0.120631248])       # 随机生成另一条线的32个Y轴数据点

x4 = np.linspace(0, 38, 39)   # X轴范围从0到31，共32个点
y7 = np.array([0.974775672,0.963450074,0.242122799,0.999778569,0.999464393,0.999138594,0.998129785,0.998380721,0.997758985,0.997210562,0.996848404,0.997000575,0.996206343,0.99533534,0.995092869,0.994417131,0.993848562,0.994177282,0.993872464,0.993469477,0.991871774,0.992310882,0.992878139,0.99227351,0.993204236,0.993099034,0.99327302,0.992478251,0.993512452,0.992451429,0.992026746,0.990801334,0.989821374,0.989372969,0.98755765,0.985019803,0.980482459,0.953110814,0.675587296])       # 随机生成32个Y轴数据点

# 绘图
plt.figure(figsize=(10, 6))  # 设置图形大小

# 绘制六条线
plt.plot(x1, y1, marker='o', label='Orac-mini-3B')  # 第一条线，14个点
plt.plot(x2, y3, marker='s', label='Llama-2-7B')  # 第二条线，14个点
plt.plot(x2, y4, marker='*', label='Vicuna-7B')  # 第五条线，32个点
plt.plot(x3, y5, marker='^', label='MPT-7B')  # 第三条线，27个点
plt.plot(x3, y6, marker='v', label='InernLM2-7B')  # 第四条线，27个点
plt.plot(x4, y7, marker='x', label='Llama-2-13B')  # 第六条线，32个点

# 添加标题和标签
plt.title('Inter-layer IO similarity of the model', fontsize=14)  # 图形标题
plt.xlabel('Layer', fontsize=12)             # X轴标签
plt.ylabel('IO Similarity', fontsize=12)             # Y轴标签

# 添加图例
plt.legend(fontsize=10)

# 添加网格
# plt.grid(True, linestyle='--', alpha=0.7)

# 显示图形
# plt.show()
plt.savefig('pics/middle-layer-sparsity.pdf', format='pdf', bbox_inches='tight', pad_inches=0.26)
