import matplotlib.pyplot as plt

# 准备数据
x_3B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]
x_7B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]
x_13B =[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]

# Orac-mini-7b
orac_squad = [2.828710556,3.693105698,20.73476028,3.346134424,3.983972788,26.2015152,7.341183186,4.028230667,3.681231499,3.526641369,2.934780359,2.825381279,2.969557285,3.027013063,3.132344961,3.311887503,3.098977566,3.194712877,3.14571166,3.529330492,2.777993441,2.7050035,2.644138575,5.062233925,13.60564327,6.531496048]
orac_human = [2.114317179,2.81964469,15.14116383,3.717904329,4.274976254,14.31669807,4.876971722,4.367607594,4.077774525,3.756533384,3.694734573,3.168257475,2.991127729,2.741035938,2.524398088,2.191411257,2.188722372,2.051900864,1.992317796,1.863176465,1.635028481,1.491367102,1.541322231,1.268924236,2.133562326,2.517280579]
orac_leval = [1.018051267,1.413890481,7.649412632,1.510473251,1.773756623,8.696953773,2.616369963,2.396814346,2.488417387,2.350079536,2.319010496,2.455883741,2.570932865,2.659776211,2.524212122,2.326835871,2.443037033,2.400454283,2.35785532,2.259550571,1.841011167,1.68588984,1.56377697,1.780890822,1.102864981,2.660254955]

# 创建一个画布
plt.figure(figsize=(10, 8))

# 绘制第一个折线图
# plt.subplot(1, 4, 1)  # 表示一行三列的第1个位置
plt.plot(x_3B, orac_squad, label='SQuAD', color='blue', marker='o')  # 第一组数据
plt.plot(x_3B, orac_human, label='Human_Eval', color='red', marker='s')   # 第二组数据
plt.plot(x_3B, orac_leval, label='L-Eval', color='orange', marker='^')   # 第三组数据
# plt.title('Orac-mini-3B')  # 设置标题
plt.xlabel('Layer', fontsize=24)  # 设置X轴标签
plt.ylabel('Gradient', fontsize=24)  # 设置Y轴标签
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)

# 添加图例
plt.legend(fontsize=20)

# 调整子图之间的间距
plt.tight_layout()

# 显示图形
# plt.show()
# plt.savefig('./pics/same-gradient-peak-layer.png', format='png')
plt.savefig('pics/same-gradient-peak-layer-1.pdf', format='pdf', bbox_inches='tight', pad_inches=0.26)
