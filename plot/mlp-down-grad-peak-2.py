import matplotlib.pyplot as plt

# 准备数据
x_3B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]
x_7B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]
x_13B =[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]

# Orac-mini-7b
llama2_squad = [2.158285856,47.56196213,2.019146204,2.187242985,2.612125397,2.198868036,2.079209089,2.017631769,1.829916596,1.718256235,1.738614678,1.733260751,1.609779358,1.689873457,1.967872858,2.144301891,2.641048908,2.052549839,2.123777151,2.534819603,1.975168228,1.969681144,1.794150114,1.761492014,1.629718542,1.676641822,1.599323869,1.714984536,1.912741065,2.073814631,30.45705414,10.41917133]
llama2_human = [0.947417319,15.53196239,1.224878073,1.226696849,1.247061372,1.120850921,0.818275928,0.805368602,1.048214316,0.622434616,0.589221358,0.561399043,0.571805656,0.565781891,0.575436652,0.592146993,0.684243441,0.551990747,0.605109513,0.583545625,0.494162649,0.436878711,0.397335202,0.397278935,0.37614581,0.382283092,0.37070924,0.39726004,0.434845388,0.5208413,8.36736393,1.938635945]
llama2_leval = [0.077218808,1.778969049,0.16611217,0.173663914,0.188970193,0.189613715,0.200396925,0.201481372,0.19808583,0.191236123,0.193290368,0.1887656,0.1845496,0.189673305,0.187432617,0.194882914,0.211444736,0.207072899,0.207298905,0.203577206,0.210642904,0.204151526,0.199811146,0.184656501,0.178586274,0.171350986,0.164723694,0.158538967,0.155470476,0.160764903,0.402021199,0.414945394]

# 创建一个画布
plt.figure(figsize=(10, 8))

# 绘制第一个折线图
plt.plot(x_7B, llama2_squad, label='SQuAD', color='blue', marker='o')  # 第一组数据
plt.plot(x_7B, llama2_human, label='Human_Eval', color='red', marker='s') # 第二组数据
plt.plot(x_7B, llama2_leval, label='L-Eval', color='orange', marker='^')   # 第三组数据
# plt.title('Llama-2-7B')  # 设置标题
plt.xlabel('Layer', fontsize=24)  # 设置X轴标签
plt.ylabel('Gradient', fontsize=24)  # 设置Y轴标签
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)

# 添加图例
plt.legend(fontsize=20)

# 调整子图之间的间距
plt.tight_layout()

# 显示图形
# plt.show()
# plt.savefig('./pics/same-gradient-peak-layer.png', format='png')
plt.savefig('pics/same-gradient-peak-layer-2.pdf', format='pdf', bbox_inches='tight', pad_inches=0.26)
