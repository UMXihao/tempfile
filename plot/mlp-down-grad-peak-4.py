import matplotlib.pyplot as plt

# 准备数据
x_3B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]
x_7B = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]
x_13B =[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]

llama_13b_squad = [13.28419304,8.768758774,3.553281069,48.43399811,3.50885725,3.766167402,3.446989059,3.527836084,3.062583447,2.754156351,2.563363791,2.618730783,2.552618742,2.594874382,2.600412369,2.9440341,2.85071969,2.903975725,3.047260523,3.074337482,2.810052395,3.076274872,2.921230555,2.92042613,2.73376298,2.630814791,2.622586966,2.555208206,2.464961052,2.360420227,2.378260851,2.330107212,2.236067057,2.266469955,2.128005981,2.088214397,2.353508949,2.498563051,5.115496159,4.231410503]
llama_13b_human = [12.99939346,11.96592426,1.170732737,24.58704185,2.376490116,1.95244503,1.882146716,1.714570403,1.599737525,1.552946091,1.429817319,1.549686193,1.364892483,1.407984614,1.45981276,1.419858336,1.45675981,1.421627522,1.382467389,1.317591429,1.237828612,1.31516993,1.253188014,1.173575282,1.097269058,1.019871831,1.000395417,0.956261039,0.915304065,0.894882441,0.869863868,0.871196389,0.897231519,0.910456419,0.928147316,0.99836874,1.055748582,1.163462162,1.45141983,1.442365646]
llama_13b_leval = [0.888162971,0.373214096,0.226336509,4.299430847,0.270589441,0.296338648,0.316108495,0.376073241,0.37398681,0.359223574,0.342730612,0.338067442,0.33844021,0.327309698,0.319553703,0.319696456,0.336481094,0.329652905,0.323662221,0.329448462,0.33061862,0.339765877,0.327217549,0.321833014,0.305161387,0.30616045,0.295980334,0.287351996,0.281230569,0.274164885,0.264561594,0.257386923,0.253585696,0.250960618,0.252372324,0.262236238,0.288986892,0.290604591,0.323353022,0.286500782]

# 创建一个画布
plt.figure(figsize=(10, 8))

# 绘制第一个折线图
plt.plot(x_13B, llama_13b_squad, label='SQuAD', color='blue', marker='o')  # 第一组数据
plt.plot(x_13B, llama_13b_human, label='Human_Eval', color='red', marker='s')   # 第二组数据
plt.plot(x_13B, llama_13b_leval, label='L-Eval', color='orange', marker='^')   # 第三组数据
# plt.title('Llama-2-7B')  # 设置标题
plt.xlabel('Layer', fontsize=24)  # 设置X轴标签
plt.ylabel('Gradient', fontsize=24)  # 设置Y轴标签
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)

# 添加图例
plt.legend(fontsize=20)

# 调整子图之间的间距
plt.tight_layout()

# 显示图形
# plt.show()
# plt.savefig('./pics/same-gradient-peak-layer.png', format='png')
plt.savefig('pics/same-gradient-peak-layer-4.pdf', format='pdf', bbox_inches='tight', pad_inches=0.26)
